import{r as s,i as u,c as i,d as l,e as c,j as p,o as n}from"./index-Ap3sLeap.js";import{A as d,N as v}from"./notify_popup-lDmkIe7y.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const m={id:"ative-page"},f={__name:"ative",setup(g){const r=p().params.scode,a=s(!1),e=s({show_loading:!0,goto:void 0,button_text:"Ok, tudo certo",message:"Opa, tudo joia meu parça",icon:"warning.png"});return u(async()=>{e.value.show_loading=!0,a.value=!0;let t=500;try{const o={method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({gp_scode:r||""})};t=(await fetch(d.API_URL+"/ative",o)).status}catch{t=500}t==200&&(setTimeout(()=>{e.value.show_loading=!1},200),e.value.message="Parabéns sua conta foi ativa, Você já pode acessar sua conta",e.value.goto="/login",e.value.button_text="Entrar",window.localStorage.removeItem("gpl_isPendg")),(t==400||t==401)&&(setTimeout(()=>{e.value.show_loading=!1},200),e.value.message="Opá, Parece que esse link não é mais válido, peça um novo link",e.value.goto="/getNewLink",e.value.button_text="Pedir novo link"),t==500&&(setTimeout(()=>{e.value.show_loading=!1},200),e.value.message="Parece que há um erro no servidor, por favor tente mais tarde",e.value.goto="/error/500",e.value.button_text="fechar")}),(t,o)=>(n(),i("div",m,[a.value?(n(),l(v,{key:0,attributes:e.value,onClosePopup:o[0]||(o[0]=()=>{a.value=!a.value})},null,8,["attributes"])):c("",!0)]))}},P=_(f,[["__scopeId","data-v-0278f6de"]]);export{P as default};
